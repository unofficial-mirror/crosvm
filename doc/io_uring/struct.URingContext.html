<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `URingContext` struct in crate `io_uring`."><meta name="keywords" content="rust, rustlang, rust-lang, URingContext"><title>io_uring::URingContext - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc struct"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../io_uring/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class="location">Struct URingContext</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#implementations">Methods</a><div class="sidebar-links"><a href="#method.add_fallocate">add_fallocate</a><a href="#method.add_fsync">add_fsync</a><a href="#method.add_nop">add_nop</a><a href="#method.add_poll_fd">add_poll_fd</a><a href="#method.add_read">add_read</a><a href="#method.add_readv">add_readv</a><a href="#method.add_readv_iter">add_readv_iter</a><a href="#method.add_write">add_write</a><a href="#method.add_writev">add_writev</a><a href="#method.add_writev_iter">add_writev_iter</a><a href="#method.new">new</a><a href="#method.remove_poll_fd">remove_poll_fd</a><a href="#method.submit">submit</a><a href="#method.wait">wait</a></div><a class="sidebar-title" href="#trait-implementations">Trait Implementations</a><div class="sidebar-links"><a href="#impl-AsRawFd">AsRawFd</a></div><a class="sidebar-title" href="#synthetic-implementations">Auto Trait Implementations</a><div class="sidebar-links"><a href="#impl-RefUnwindSafe">RefUnwindSafe</a><a href="#impl-Send">Send</a><a href="#impl-Sync">Sync</a><a href="#impl-Unpin">Unpin</a><a href="#impl-UnwindSafe">UnwindSafe</a></div><a class="sidebar-title" href="#blanket-implementations">Blanket Implementations</a><div class="sidebar-links"><a href="#impl-Any">Any</a><a href="#impl-AsRawFds">AsRawFds</a><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a><a href="#impl-From%3CT%3E">From&lt;T&gt;</a><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></div></div><p class="location"><a href="index.html">io_uring</a></p><div id="sidebar-vars" data-name="URingContext" data-ty="struct" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Struct <a href="index.html">io_uring</a>::<wbr><a class="struct" href="">URingContext</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/io_uring/uring.rs.html#192-198" title="goto source code">[src]</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class="rust struct">pub struct URingContext { /* fields omitted */ }</pre></div><div class="docblock"><p>Unsafe wrapper for the kernel's io_uring interface. Allows for queueing multiple I/O operations
to the kernel and asynchronously handling the completion of these operations.
Use the various <code>add_*</code> functions to configure operations, then call <code>wait</code> to start
the operations and get any completed results. Each op is given a u64 user_data argument that is
used to identify the result when returned in the iterator provided by <code>wait</code>.</p>
<h1 id="example-polling-an-fd-for-readable-status" class="section-header"><a href="#example-polling-an-fd-for-readable-status">Example polling an FD for readable status.</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">File</span>::<span class="ident">open</span>(<span class="ident">Path</span>::<span class="ident">new</span>(<span class="string">&quot;/dev/zero&quot;</span>)).<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">uring</span> <span class="op">=</span> <span class="ident">URingContext</span>::<span class="ident">new</span>(<span class="number">16</span>).<span class="ident">unwrap</span>();
<span class="ident">uring</span>
  .<span class="ident">add_poll_fd</span>(<span class="ident">f</span>.<span class="ident">as_raw_fd</span>(), <span class="kw-2">&amp;</span><span class="ident">WatchingEvents</span>::<span class="ident">empty</span>().<span class="ident">set_read</span>(), <span class="number">454</span>)
.<span class="ident">unwrap</span>();
<span class="kw">let</span> (<span class="ident">user_data</span>, <span class="ident">res</span>) <span class="op">=</span> <span class="ident">uring</span>.<span class="ident">wait</span>().<span class="ident">unwrap</span>().<span class="ident">next</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">user_data</span>, <span class="number">454</span> <span class="kw">as</span> <span class="ident">io_uring</span>::<span class="ident">UserData</span>);
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">res</span>.<span class="ident">unwrap</span>(), <span class="number">1</span> <span class="kw">as</span> <span class="ident">u32</span>);
</pre></div>
</div><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><h3 id="impl" class="impl"><code class="in-band">impl <a class="struct" href="../io_uring/struct.URingContext.html" title="struct io_uring::URingContext">URingContext</a></code><a href="#impl" class="anchor"></a><a class="srclink" href="../src/io_uring/uring.rs.html#200-626" title="goto source code">[src]</a></h3><div class="impl-items"><h4 id="method.new" class="method"><code>pub fn <a href="#method.new" class="fnname">new</a>(num_entries: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="type" href="../io_uring/type.Result.html" title="type io_uring::Result">Result</a>&lt;<a class="struct" href="../io_uring/struct.URingContext.html" title="struct io_uring::URingContext">URingContext</a>&gt;</code><a class="srclink" href="../src/io_uring/uring.rs.html#203-272" title="goto source code">[src]</a></h4><div class="docblock"><p>Creates a <code>URingContext</code> where the underlying uring has a space for <code>num_entries</code>
simultaneous operations.</p>
</div><h4 id="method.add_write" class="method"><code>pub unsafe fn <a href="#method.add_write" class="fnname">add_write</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;ptr: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*const </a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;len: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/type.RawFd.html" title="type std::sys::unix::ext::io::RawFd">RawFd</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;offset: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;user_data: <a class="type" href="../io_uring/type.UserData.html" title="type io_uring::UserData">UserData</a><br>) -&gt; <a class="type" href="../io_uring/type.Result.html" title="type io_uring::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class="srclink" href="../src/io_uring/uring.rs.html#281-292" title="goto source code">[src]</a></h4><div class="docblock"><p>Asynchronously writes to <code>fd</code> from the address given in <code>ptr</code>.</p>
<h1 id="safety" class="section-header"><a href="#safety">Safety</a></h1>
<p><code>add_write</code> will write up to <code>len</code> bytes of data from the address given by <code>ptr</code>. This is
only safe if the caller guarantees that the memory lives until the transaction is complete
and that completion has been returned from the <code>wait</code> function. In addition there must not
be other references to the data pointed to by <code>ptr</code> until the operation completes.  Ensure
that the fd remains open until the op completes as well.</p>
</div><h4 id="method.add_read" class="method"><code>pub unsafe fn <a href="#method.add_read" class="fnname">add_read</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;ptr: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.pointer.html">*mut </a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;len: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/type.RawFd.html" title="type std::sys::unix::ext::io::RawFd">RawFd</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;offset: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;user_data: <a class="type" href="../io_uring/type.UserData.html" title="type io_uring::UserData">UserData</a><br>) -&gt; <a class="type" href="../io_uring/type.Result.html" title="type io_uring::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class="srclink" href="../src/io_uring/uring.rs.html#302-313" title="goto source code">[src]</a></h4><div class="docblock"><p>Asynchronously reads from <code>fd</code> to the address given in <code>ptr</code>.</p>
<h1 id="safety-1" class="section-header"><a href="#safety-1">Safety</a></h1>
<p><code>add_read</code> will write up to <code>len</code> bytes of data to the address given by <code>ptr</code>. This is only
safe if the caller guarantees there are no other references to that memory and that the
memory lives until the transaction is complete and that completion has been returned from
the <code>wait</code> function.  In addition there must not be any mutable references to the data
pointed to by <code>ptr</code> until the operation completes.  Ensure that the fd remains open until
the op completes as well.</p>
</div><h4 id="method.add_writev_iter" class="method"><code>pub unsafe fn <a href="#method.add_writev_iter" class="fnname">add_writev_iter</a>&lt;I&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;iovecs: I, <br>&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/type.RawFd.html" title="type std::sys::unix::ext::io::RawFd">RawFd</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;offset: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;user_data: <a class="type" href="../io_uring/type.UserData.html" title="type io_uring::UserData">UserData</a><br>) -&gt; <a class="type" href="../io_uring/type.Result.html" title="type io_uring::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="../libc/unix/struct.iovec.html" title="struct libc::unix::iovec">iovec</a>&gt;,&nbsp;</span></code><a class="srclink" href="../src/io_uring/uring.rs.html#318-342" title="goto source code">[src]</a></h4><div class="docblock"><h1 id="safety-2" class="section-header"><a href="#safety-2">Safety</a></h1>
<p>See 'writev' but accepts an iterator instead of a vector if there isn't already a vector in
existence.</p>
</div><h4 id="method.add_writev" class="method"><code>pub unsafe fn <a href="#method.add_writev" class="fnname">add_writev</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;iovecs: <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="struct" href="../data_model/sys/struct.IoBufMut.html" title="struct data_model::sys::IoBufMut">IoBufMut</a>&lt;'static&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/type.RawFd.html" title="type std::sys::unix::ext::io::RawFd">RawFd</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;offset: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;user_data: <a class="type" href="../io_uring/type.UserData.html" title="type io_uring::UserData">UserData</a><br>) -&gt; <a class="type" href="../io_uring/type.Result.html" title="type io_uring::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class="srclink" href="../src/io_uring/uring.rs.html#352-372" title="goto source code">[src]</a></h4><div class="docblock"><p>Asynchronously writes to <code>fd</code> from the addresses given in <code>iovecs</code>.</p>
<h1 id="safety-3" class="section-header"><a href="#safety-3">Safety</a></h1>
<p><code>add_writev</code> will write to the address given by <code>iovecs</code>. This is only safe if the caller
guarantees there are no other references to that memory and that the memory lives until the
transaction is complete and that completion has been returned from the <code>wait</code> function.  In
addition there must not be any mutable references to the data pointed to by <code>iovecs</code> until
the operation completes.  Ensure that the fd remains open until the op completes as well.
The iovecs reference must be kept alive until the op returns.</p>
</div><h4 id="method.add_readv_iter" class="method"><code>pub unsafe fn <a href="#method.add_readv_iter" class="fnname">add_readv_iter</a>&lt;I&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;iovecs: I, <br>&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/type.RawFd.html" title="type std::sys::unix::ext::io::RawFd">RawFd</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;offset: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;user_data: <a class="type" href="../io_uring/type.UserData.html" title="type io_uring::UserData">UserData</a><br>) -&gt; <a class="type" href="../io_uring/type.Result.html" title="type io_uring::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="../libc/unix/struct.iovec.html" title="struct libc::unix::iovec">iovec</a>&gt;,&nbsp;</span></code><a class="srclink" href="../src/io_uring/uring.rs.html#377-401" title="goto source code">[src]</a></h4><div class="docblock"><h1 id="safety-4" class="section-header"><a href="#safety-4">Safety</a></h1>
<p>See 'readv' but accepts an iterator instead of a vector if there isn't already a vector in
existence.</p>
</div><h4 id="method.add_readv" class="method"><code>pub unsafe fn <a href="#method.add_readv" class="fnname">add_readv</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;iovecs: <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="struct" href="../data_model/sys/struct.IoBufMut.html" title="struct data_model::sys::IoBufMut">IoBufMut</a>&lt;'static&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/type.RawFd.html" title="type std::sys::unix::ext::io::RawFd">RawFd</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;offset: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;user_data: <a class="type" href="../io_uring/type.UserData.html" title="type io_uring::UserData">UserData</a><br>) -&gt; <a class="type" href="../io_uring/type.Result.html" title="type io_uring::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class="srclink" href="../src/io_uring/uring.rs.html#411-431" title="goto source code">[src]</a></h4><div class="docblock"><p>Asynchronously reads from <code>fd</code> to the addresses given in <code>iovecs</code>.</p>
<h1 id="safety-5" class="section-header"><a href="#safety-5">Safety</a></h1>
<p><code>add_readv</code> will write to the address given by <code>iovecs</code>. This is only safe if the caller
guarantees there are no other references to that memory and that the memory lives until the
transaction is complete and that completion has been returned from the <code>wait</code> function.  In
addition there must not be any references to the data pointed to by <code>iovecs</code> until the
operation completes.  Ensure that the fd remains open until the op completes as well.
The iovecs reference must be kept alive until the op returns.</p>
</div><h4 id="method.add_nop" class="method"><code>pub fn <a href="#method.add_nop" class="fnname">add_nop</a>(&amp;self, user_data: <a class="type" href="../io_uring/type.UserData.html" title="type io_uring::UserData">UserData</a>) -&gt; <a class="type" href="../io_uring/type.Result.html" title="type io_uring::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class="srclink" href="../src/io_uring/uring.rs.html#435-449" title="goto source code">[src]</a></h4><div class="docblock"><p>Add a no-op operation that doesn't perform any IO. Useful for testing the performance of the
io_uring itself and for waking up a thread that's blocked inside a wait() call.</p>
</div><h4 id="method.add_fsync" class="method"><code>pub fn <a href="#method.add_fsync" class="fnname">add_fsync</a>(&amp;self, fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/type.RawFd.html" title="type std::sys::unix::ext::io::RawFd">RawFd</a>, user_data: <a class="type" href="../io_uring/type.UserData.html" title="type io_uring::UserData">UserData</a>) -&gt; <a class="type" href="../io_uring/type.Result.html" title="type io_uring::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class="srclink" href="../src/io_uring/uring.rs.html#453-467" title="goto source code">[src]</a></h4><div class="docblock"><p>Syncs all completed operations, the ordering with in-flight async ops is not
defined.</p>
</div><h4 id="method.add_fallocate" class="method"><code>pub fn <a href="#method.add_fallocate" class="fnname">add_fallocate</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/type.RawFd.html" title="type std::sys::unix::ext::io::RawFd">RawFd</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;offset: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;len: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;mode: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;user_data: <a class="type" href="../io_uring/type.UserData.html" title="type io_uring::UserData">UserData</a><br>) -&gt; <a class="type" href="../io_uring/type.Result.html" title="type io_uring::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class="srclink" href="../src/io_uring/uring.rs.html#470-494" title="goto source code">[src]</a></h4><div class="docblock"><p>See the usage of <code>fallocate</code>, this asynchronously performs the same operations.</p>
</div><h4 id="method.add_poll_fd" class="method"><code>pub fn <a href="#method.add_poll_fd" class="fnname">add_poll_fd</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/type.RawFd.html" title="type std::sys::unix::ext::io::RawFd">RawFd</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;events: &amp;<a class="struct" href="../sys_util/poll/struct.WatchingEvents.html" title="struct sys_util::poll::WatchingEvents">WatchingEvents</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;user_data: <a class="type" href="../io_uring/type.UserData.html" title="type io_uring::UserData">UserData</a><br>) -&gt; <a class="type" href="../io_uring/type.Result.html" title="type io_uring::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class="srclink" href="../src/io_uring/uring.rs.html#501-520" title="goto source code">[src]</a></h4><div class="docblock"><p>Adds an FD to be polled based on the given flags.
The user must keep the FD open until the operation completion is returned from
<code>wait</code>.
Note that io_uring is always a one shot poll. After the fd is returned, it must be re-added
to get future events.</p>
</div><h4 id="method.remove_poll_fd" class="method"><code>pub fn <a href="#method.remove_poll_fd" class="fnname">remove_poll_fd</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/type.RawFd.html" title="type std::sys::unix::ext::io::RawFd">RawFd</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;events: &amp;<a class="struct" href="../sys_util/poll/struct.WatchingEvents.html" title="struct sys_util::poll::WatchingEvents">WatchingEvents</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;user_data: <a class="type" href="../io_uring/type.UserData.html" title="type io_uring::UserData">UserData</a><br>) -&gt; <a class="type" href="../io_uring/type.Result.html" title="type io_uring::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class="srclink" href="../src/io_uring/uring.rs.html#523-542" title="goto source code">[src]</a></h4><div class="docblock"><p>Removes an FD that was previously added with <code>add_poll_fd</code>.</p>
</div><h4 id="method.submit" class="method"><code>pub fn <a href="#method.submit" class="fnname">submit</a>(&amp;self) -&gt; <a class="type" href="../io_uring/type.Result.html" title="type io_uring::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class="srclink" href="../src/io_uring/uring.rs.html#600-602" title="goto source code">[src]</a></h4><div class="docblock"><p>Sends operations added with the <code>add_*</code> functions to the kernel.</p>
</div><h4 id="method.wait" class="method"><code>pub fn <a href="#method.wait" class="fnname">wait</a>(&amp;self) -&gt; <a class="type" href="../io_uring/type.Result.html" title="type io_uring::Result">Result</a>&lt;impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="type" href="../io_uring/type.UserData.html" title="type io_uring::UserData">UserData</a>, <a class="type" href="https://doc.rust-lang.org/nightly/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt; + '_&gt;</code><a class="srclink" href="../src/io_uring/uring.rs.html#608-625" title="goto source code">[src]</a></h4><div class="docblock"><p>Sends operations added with the <code>add_*</code> functions to the kernel and return an iterator to any
completed operations. <code>wait</code> blocks until at least one completion is ready.  If called
without any new events added, this simply waits for any existing events to complete and
returns as soon an one or more is ready.</p>
</div></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor"></a></h2><div id="trait-implementations-list"><h3 id="impl-AsRawFd" class="impl"><code class="in-band">impl <a class="trait" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/trait.AsRawFd.html" title="trait std::sys::unix::ext::io::AsRawFd">AsRawFd</a> for <a class="struct" href="../io_uring/struct.URingContext.html" title="struct io_uring::URingContext">URingContext</a></code><a href="#impl-AsRawFd" class="anchor"></a><a class="srclink" href="../src/io_uring/uring.rs.html#628-632" title="goto source code">[src]</a></h3><div class="impl-items"><h4 id="method.as_raw_fd" class="method hidden"><code>fn <a href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/trait.AsRawFd.html#tymethod.as_raw_fd" class="fnname">as_raw_fd</a>(&amp;self) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/type.RawFd.html" title="type std::sys::unix::ext::io::RawFd">RawFd</a></code><a class="srclink" href="../src/io_uring/uring.rs.html#629-631" title="goto source code">[src]</a></h4><div class='docblock hidden'><p>Extracts the raw file descriptor. <a href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/trait.AsRawFd.html#tymethod.as_raw_fd">Read more</a></p>
</div></div></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><h3 id="impl-RefUnwindSafe" class="impl"><code class="in-band">impl <a class="trait" href="https://doc.rust-lang.org/nightly/std/panic/trait.RefUnwindSafe.html" title="trait std::panic::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="../io_uring/struct.URingContext.html" title="struct io_uring::URingContext">URingContext</a></code><a href="#impl-RefUnwindSafe" class="anchor"></a><a class="srclink" href="../src/io_uring/lib.rs.html#1" title="goto source code">[src]</a></h3><div class="impl-items"></div><h3 id="impl-Send" class="impl"><code class="in-band">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="../io_uring/struct.URingContext.html" title="struct io_uring::URingContext">URingContext</a></code><a href="#impl-Send" class="anchor"></a><a class="srclink" href="../src/io_uring/lib.rs.html#1" title="goto source code">[src]</a></h3><div class="impl-items"></div><h3 id="impl-Sync" class="impl"><code class="in-band">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="../io_uring/struct.URingContext.html" title="struct io_uring::URingContext">URingContext</a></code><a href="#impl-Sync" class="anchor"></a><a class="srclink" href="../src/io_uring/lib.rs.html#1" title="goto source code">[src]</a></h3><div class="impl-items"></div><h3 id="impl-Unpin" class="impl"><code class="in-band">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="../io_uring/struct.URingContext.html" title="struct io_uring::URingContext">URingContext</a></code><a href="#impl-Unpin" class="anchor"></a><a class="srclink" href="../src/io_uring/lib.rs.html#1" title="goto source code">[src]</a></h3><div class="impl-items"></div><h3 id="impl-UnwindSafe" class="impl"><code class="in-band">impl <a class="trait" href="https://doc.rust-lang.org/nightly/std/panic/trait.UnwindSafe.html" title="trait std::panic::UnwindSafe">UnwindSafe</a> for <a class="struct" href="../io_uring/struct.URingContext.html" title="struct io_uring::URingContext">URingContext</a></code><a href="#impl-UnwindSafe" class="anchor"></a><a class="srclink" href="../src/io_uring/lib.rs.html#1" title="goto source code">[src]</a></h3><div class="impl-items"></div></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><h3 id="impl-Any" class="impl"><code class="in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href="#impl-Any" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#131-135" title="goto source code">[src]</a></h3><div class="impl-items"><h4 id="method.type_id" class="method hidden"><code>pub fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></code><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#132" title="goto source code">[src]</a></h4><div class='docblock hidden'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></div><h3 id="impl-AsRawFds" class="impl"><code class="in-band">impl&lt;T&gt; <a class="trait" href="../sys_util/file_traits/trait.AsRawFds.html" title="trait sys_util::file_traits::AsRawFds">AsRawFds</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/trait.AsRawFd.html" title="trait std::sys::unix::ext::io::AsRawFd">AsRawFd</a>,&nbsp;</span></code><a href="#impl-AsRawFds" class="anchor"></a><a class="srclink" href="../src/sys_util/file_traits.rs.html#490-497" title="goto source code">[src]</a></h3><div class="impl-items"><h4 id="method.as_raw_fds" class="method hidden"><code>pub fn <a href="../sys_util/file_traits/trait.AsRawFds.html#tymethod.as_raw_fds" class="fnname">as_raw_fds</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;</code><a class="srclink" href="../src/sys_util/file_traits.rs.html#494" title="goto source code">[src]</a></h4></div><h3 id="impl-Borrow%3CT%3E" class="impl"><code class="in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href="#impl-Borrow%3CT%3E" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#207-211" title="goto source code">[src]</a></h3><div class="impl-items"><h4 id="method.borrow" class="method hidden"><code>pub fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T</code><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#208" title="goto source code">[src]</a></h4><div class='docblock hidden'><p>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></div><h3 id="impl-BorrowMut%3CT%3E" class="impl"><code class="in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href="#impl-BorrowMut%3CT%3E" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#214-218" title="goto source code">[src]</a></h3><div class="impl-items"><h4 id="method.borrow_mut" class="method hidden"><code>pub fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T</code><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#215" title="goto source code">[src]</a></h4><div class='docblock hidden'><p>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></div><h3 id="impl-From%3CT%3E" class="impl"><code class="in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</code><a href="#impl-From%3CT%3E" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#545-549" title="goto source code">[src]</a></h3><div class="impl-items"><h4 id="method.from" class="method hidden"><code>pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</code><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#546" title="goto source code">[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div><h3 id="impl-Into%3CU%3E" class="impl"><code class="in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></code><a href="#impl-Into%3CU%3E" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#534-541" title="goto source code">[src]</a></h3><div class="impl-items"><h4 id="method.into" class="method hidden"><code>pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</code><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#538" title="goto source code">[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div><h3 id="impl-TryFrom%3CU%3E" class="impl"><code class="in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></code><a href="#impl-TryFrom%3CU%3E" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#582-591" title="goto source code">[src]</a></h3><div class="impl-items"><h4 id="associatedtype.Error" class="type"><code>type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="type">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></code></h4><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div><h4 id="method.try_from" class="method hidden"><code>pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</code><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#588" title="goto source code">[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div><h3 id="impl-TryInto%3CU%3E" class="impl"><code class="in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></code><a href="#impl-TryInto%3CU%3E" class="anchor"></a><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#568-577" title="goto source code">[src]</a></h3><div class="impl-items"><h4 id="associatedtype.Error-1" class="type"><code>type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="type">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></code></h4><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div><h4 id="method.try_into" class="method hidden"><code>pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</code><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#574" title="goto source code">[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div></div></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="io_uring"></div>
    <script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>