<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `volatile_memory` mod in crate `data_model`."><meta name="keywords" content="rust, rustlang, rust-lang, volatile_memory"><title>data_model::volatile_memory - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings"></script><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../data_model/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class="location">Module volatile_memory</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class="location"><a href="../index.html">data_model</a></p><div id="sidebar-vars" data-name="volatile_memory" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">data_model</a>::<wbr><a class="mod" href="">volatile_memory</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/data_model/volatile_memory.rs.html#5-547" title="goto source code">[src]</a></span></h1><div class="docblock"><p>Types for volatile access to memory.</p>
<p>Two of the core rules for safe rust is no data races and no aliased mutable references.
<code>VolatileRef</code> and <code>VolatileSlice</code>, along with types that produce those which implement
<code>VolatileMemory</code>, allow us to sidestep that rule by wrapping pointers that absolutely have to be
accessed volatile. Some systems really do need to operate on shared memory and can't have the
compiler reordering or eliding access because it has no visibility into what other systems are
doing with that hunk of memory.</p>
<p>For the purposes of maintaining safety, volatile memory has some rules of its own:</p>
<ol>
<li>No references or slices to volatile memory (<code>&amp;</code> or <code>&amp;mut</code>).</li>
<li>Access should always been done with a volatile read or write.
The First rule is because having references of any kind to memory considered volatile would
violate pointer aliasing. The second is because unvolatile accesses are inherently undefined if
done concurrently without synchronization. With volatile access we know that the compiler has
not reordered or elided the access.</li>
</ol>
</div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.VolatileRef.html" title="data_model::volatile_memory::VolatileRef struct">VolatileRef</a></td><td class="docblock-short"><p>A memory location that supports volatile access of a <code>T</code>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.VolatileSlice.html" title="data_model::volatile_memory::VolatileSlice struct">VolatileSlice</a></td><td class="docblock-short"><p>A slice of raw memory that supports volatile access. Like <code>std::io::IoBufMut</code>, this type is
guaranteed to be ABI-compatible with <code>libc::iovec</code> but unlike <code>IoBufMut</code>, it doesn't
automatically deref to <code>&amp;mut [u8]</code>.</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.VolatileMemoryError.html" title="data_model::volatile_memory::VolatileMemoryError enum">VolatileMemoryError</a></td><td class="docblock-short"></td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.VolatileMemory.html" title="data_model::volatile_memory::VolatileMemory trait">VolatileMemory</a></td><td class="docblock-short"><p>Trait for types that support raw volatile access to their data.</p>
</td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.calc_offset.html" title="data_model::volatile_memory::calc_offset fn">calc_offset</a></td><td class="docblock-short"><p>Convenience function for computing <code>base + offset</code> which returns
<code>Err(VolatileMemoryError::Overflow)</code> instead of panicking in the case <code>base + offset</code> exceeds
<code>u64::MAX</code>.</p>
</td></tr></table><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<table><tr class="module-item"><td><a class="type" href="type.VolatileMemoryResult.html" title="data_model::volatile_memory::VolatileMemoryResult type">VolatileMemoryResult</a></td><td class="docblock-short"></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="data_model"></div>
    <script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>