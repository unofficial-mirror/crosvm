<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `vhost_user` mod in crate `vmm_vhost`."><meta name="keywords" content="rust, rustlang, rust-lang, vhost_user"><title>vmm_vhost::vhost_user - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings"></script><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../vmm_vhost/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class="location">Module vhost_user</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class="location"><a href="../index.html">vmm_vhost</a></p><div id="sidebar-vars" data-name="vhost_user" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">vmm_vhost</a>::<wbr><a class="mod" href="">vhost_user</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/vmm_vhost/vhost_user/mod.rs.html#4-485" title="goto source code">[src]</a></span></h1><div class="docblock"><p>The protocol for vhost-user is based on the existing implementation of vhost for the Linux
Kernel. The protocol defines two sides of the communication, master and slave. Master is
the application that shares its virtqueues. Slave is the consumer of the virtqueues.</p>
<p>The communication channel between the master and the slave includes two sub channels. One is
used to send requests from the master to the slave and optional replies from the slave to the
master. This sub channel is created on master startup by connecting to the slave service
endpoint. The other is used to send requests from the slave to the master and optional replies
from the master to the slave. This sub channel is created by the master issuing a
VHOST_USER_SET_SLAVE_REQ_FD request to the slave with an auxiliary file descriptor.</p>
<p>Unix domain socket is used as the underlying communication channel because the master needs to
send file descriptors to the slave.</p>
<p>Most messages that can be sent via the Unix domain socket implementing vhost-user have an
equivalent ioctl to the kernel implementation.</p>
</div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="message/index.html" title="vmm_vhost::vhost_user::message mod">message</a></td><td class="docblock-short"><p>Define communication messages for the vhost-user protocol.</p>
</td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.Listener.html" title="vmm_vhost::vhost_user::Listener struct">Listener</a></td><td class="docblock-short"><p>Unix domain socket listener for accepting incoming connections.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Master.html" title="vmm_vhost::vhost_user::Master struct">Master</a></td><td class="docblock-short"><p>Struct for the vhost-user master endpoint.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.MasterReqHandler.html" title="vmm_vhost::vhost_user::MasterReqHandler struct">MasterReqHandler</a></td><td class="docblock-short"><p>Server to handle service requests from slaves from the slave communication channel.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.SlaveFsCacheReq.html" title="vmm_vhost::vhost_user::SlaveFsCacheReq struct">SlaveFsCacheReq</a></td><td class="docblock-short"><p>Request proxy to send vhost-user-fs slave requests to the master through the slave
communication channel.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.SlaveListener.html" title="vmm_vhost::vhost_user::SlaveListener struct">SlaveListener</a></td><td class="docblock-short"><p>Vhost-user slave side connection listener.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.SlaveReqHandler.html" title="vmm_vhost::vhost_user::SlaveReqHandler struct">SlaveReqHandler</a></td><td class="docblock-short"><p>Server to handle service requests from masters from the master communication channel.</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.Error.html" title="vmm_vhost::vhost_user::Error enum">Error</a></td><td class="docblock-short"><p>Errors for vhost-user operations</p>
</td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.VhostUserMaster.html" title="vmm_vhost::vhost_user::VhostUserMaster trait">VhostUserMaster</a></td><td class="docblock-short"><p>Trait for vhost-user master to provide extra methods not covered by the VhostBackend yet.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.VhostUserMasterReqHandler.html" title="vmm_vhost::vhost_user::VhostUserMasterReqHandler trait">VhostUserMasterReqHandler</a></td><td class="docblock-short"><p>Define services provided by masters for the slave communication channel.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.VhostUserMasterReqHandlerMut.html" title="vmm_vhost::vhost_user::VhostUserMasterReqHandlerMut trait">VhostUserMasterReqHandlerMut</a></td><td class="docblock-short"><p>A helper trait mirroring <a href="trait.VhostUserMasterReqHandler.html">VhostUserMasterReqHandler</a> but without interior mutability.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.VhostUserSlaveReqHandler.html" title="vmm_vhost::vhost_user::VhostUserSlaveReqHandler trait">VhostUserSlaveReqHandler</a></td><td class="docblock-short"><p>Services provided to the master by the slave with interior mutability.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.VhostUserSlaveReqHandlerMut.html" title="vmm_vhost::vhost_user::VhostUserSlaveReqHandlerMut trait">VhostUserSlaveReqHandlerMut</a></td><td class="docblock-short"><p>Services provided to the master by the slave without interior mutability.</p>
</td></tr></table><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<table><tr class="module-item"><td><a class="type" href="type.HandlerResult.html" title="vmm_vhost::vhost_user::HandlerResult type">HandlerResult</a></td><td class="docblock-short"><p>Result of request handler.</p>
</td></tr><tr class="module-item"><td><a class="type" href="type.Result.html" title="vmm_vhost::vhost_user::Result type">Result</a></td><td class="docblock-short"><p>Result of vhost-user operations</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="vmm_vhost"></div>
    <script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>